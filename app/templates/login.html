{% extends 'base.html' %}

{% block metas %}
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.png') }}"
  type="image/x-icon">
  <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}"
  type="image/x-icon">
{% endblock %}

{% set active_page = "settings" %}
{% block title %} Markkinavisio - Kirjautuminen {% endblock %}

{% block page_content %}
<div class="container">
    <h2>Kirjaudu sisään</h2>
    <br>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
       <div class="alert alert-success alert-dismissable" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="close">
            <span aria-hidden="true">X</span>
        </button>
             {{message}}
    </div>
    {% endfor  %}
    {% endif %}
    {% endwith %}

    <h3>Syötä tunnukset</h3>

    <form action="" method="post" novalidate>
      {{form.csrf_token}}
    <div class="row">
    <div class="form-group col-6">
        {{form.username.label}}
        {{form.username(class_="form-control form-control-sm", placeholder_="Tunnus")}}

            {% for error in form.username.errors %}
            <span style="color:red;">
                {{error}}
            </span>
            {% endfor %}
    </div>
    </div>
    <div class="row">
    <div class="form-group  col-6">
        {{form.password.label}}
        {{form.password(class_="form-control form-control-sm", placeholder_="Salasana")}}

            {% for error in form.password.errors %}
                <span style="color:red;">
                    {{error}}
                </span>
            {% endfor %}
    </div>
    </div>
    <div class="row">
        <div class="form-group  col-6">
            {{ form.submit(class_="btn btn-success") }}
        </div>
    </div>
        <div class="form-group text-justify-left">
            <p>Etkö ole rekisteröitynyt? <a href="/register">Rekisteröidy täältä</a></p>
        </div>
    </form>
    </div>
</div>

{% endblock %}